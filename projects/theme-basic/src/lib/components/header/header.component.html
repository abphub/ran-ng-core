<a class="logo" target="_blank">
    <img [src]="appInfo.logoUrl" title="{{appInfo.name}}">
</a>

<span class="flex-spacer"></span>
<ran-app-header-bar></ran-app-header-bar>
<span class="flex-spacer"></span>

<!-- 语言管理 -->
<button mat-button class="header-bar-button" [matMenuTriggerFor]="appLanguageMenu" matTooltip="语言管理">
    <i class="fa fa-language"></i>
</button>
<mat-menu #appLanguageMenu="matMenu">
    <button *ngFor="let lang of languages$ | async" mat-menu-item class="menu-button"
        (click)="onChangeLang(lang.cultureName)">
        {{ lang?.displayName }}
        <i *ngIf="lang?.cultureName===selectedLangCulture">默认</i>
    </button>
</mat-menu>
<!-- 语言管理 -->

<!-- 文档中心 -->
<button mat-button class="header-bar-button" matTooltip="文档中心" [hidden]='true'>
    <i class="fa fa-question-circle-o"></i>
</button>
<!-- 文档中心 -->

<!-- 消息中心 -->
<button mat-button class="header-bar-button" matTooltip="消息中心">
    <i class="fa fa-bell-o" matBadge="{{unReadCount}}" matBadgeColor="accent" [matBadgeHidden]="unReadCount===0"></i>
</button>
<!-- 消息中心 -->

<!-- app导航 -->
<!-- <ran-appbar></ran-appbar> -->
<button mat-button class="header-bar-button" routerLink="" matTooltip="{{appInfo.name}}应用">
    <i class="fa fa-th"></i>
</button>
<!-- app导航 -->

<!-- 个人中心 -->
<a *ngIf="(currentUser$|async)?.userName" [matMenuTriggerFor]="appMenu" matTooltip="个人中心" class="user-avatar">
    <div class="user-avatar-overlay">
        <i class="fa fa-cog" aria-hidden="true"></i>
    </div>
    <img class="user-avatar-img" src="assets/images/default-profile-picture.png">
</a>
<mat-menu #appMenu="matMenu">

    <div class="user-menu-header">
        <div class="user-menu-avatar">
            <img class="user-menu-avatar-img" src="assets/images/default-profile-picture.png">
        </div>
        <div class="user-menu-info">
            {{(currentUser$|async)?.userName}}
        </div>
    </div>
    <mat-divider></mat-divider>
    <button mat-menu-item class="pl-3 pr-5" routerLink="/account/manage-profile">
        <i class="fa fa-user pr-2"></i>
        {{'AbpAccount::ManageYourProfile' | abpLocalization }}
    </button>
    <button mat-menu-item class="pl-3 pr-5" (click)="logout()">
        <i class="fa fa-sign-out pr-2"></i>
        {{'AbpUi::Logout' | abpLocalization}}
    </button>
</mat-menu>
<!-- 个人中心 -->